/* 全局样式重置和基础设置 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Courier New', monospace;
    background: #2c1810;
    overflow: hidden;
    user-select: none;
}

/* 游戏主容器 - 实现1080p等比例缩放适配 */
#game-container {
    position: relative;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #1a0f0a 0%, #2c1810 50%, #1a0f0a 100%);
    overflow: hidden;
}

/* 游戏内容缩放容器 */
.game-content {
    position: relative;
    width: 1920px;
    height: 1080px;
    transform-origin: center center;
    transition: transform 0.3s ease;
}

/* 游戏画布 */
#game-canvas {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

/* 屏幕容器基础样式 */
.screen {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: none;
    justify-content: center;
    align-items: center;
}

.screen.active {
    display: flex;
}

/* 主界面样式 */
#main-menu {
    background: linear-gradient(135deg, #3d2817 0%, #2c1810 50%, #1a0f0a 100%);
}

.menu-container {
    text-align: center;
    padding: 2rem;
    background: rgba(139, 69, 19, 0.1);
    border: 3px solid #8b4513;
    border-radius: 15px;
    box-shadow: 
        0 0 20px rgba(139, 69, 19, 0.3),
        inset 0 0 20px rgba(255, 255, 255, 0.1);
}

.game-title {
    font-size: 4rem;
    color: #f4e4bc;
    text-shadow: 
        3px 3px 0px #8b4513,
        6px 6px 0px #654321,
        0 0 20px rgba(244, 228, 188, 0.5);
    margin-bottom: 3rem;
    font-weight: bold;
    letter-spacing: 0.1em;
}

.button-container {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    align-items: center;
}

.menu-button {
    background: linear-gradient(145deg, #8b4513, #654321);
    border: 3px solid #a0522d;
    color: #f4e4bc;
    font-size: 1.5rem;
    font-weight: bold;
    padding: 1rem 2rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-shadow: 2px 2px 0px #654321;
    letter-spacing: 0.05em;
    min-width: 200px;
    font-family: 'Courier New', monospace;
}

.menu-button:hover {
    background: linear-gradient(145deg, #a0522d, #8b4513);
    transform: translateY(-3px);
    box-shadow: 
        0 5px 15px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(160, 82, 45, 0.4);
}

.menu-button:active {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* 关卡选择界面样式 */
#level-select {
    background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%);
}

.level-container {
    position: relative;
    width: 90%;
    height: 90%;
    max-width: 1600px;
    max-height: 900px;
}

.map-background {
    position: relative;
    width: 100%;
    height: 100%;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 
        0 0 30px rgba(0, 0, 0, 0.5),
        inset 0 0 20px rgba(139, 69, 19, 0.2);
}

.map-bg {
    width: 100%;
    height: 100%;
    object-fit: cover;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

.level-icons {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.level-icon {
    position: absolute;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    transform: translate(-50%, -50%);
}

.level-icon img {
    width: 80px;
    height: 80px;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.7));
    transition: all 0.3s ease;
}

/* 不同关卡的图标大小调整 */
.level-icon[data-level="1"] img {
    width: 126px;
    height: 126px;
}

.level-icon[data-level="2"] img {
    width: 158px;
    height: 158px;
}

.level-icon[data-level="3"] img {
    width: 128px;
    height: 128px;
}

.level-icon[data-level="4"] img {
    width: 284px;
    height: 189px; /* 长城是横向的 */
}

.level-icon[data-level="5"] img {
    width: 168px;
    height: 105px; /* 石桥是横向的 */
}

.level-icon[data-level="6"] img {
    width: 170px;
    height: 170px; /* 主城城堡最大 */
}

.level-icon:hover img {
    transform: scale(1.1);
    filter: drop-shadow(0 0 15px rgba(255, 215, 0, 0.8));
}

.level-name {
    color: #f4e4bc;
    font-size: 0.8rem;
    font-weight: bold;
    text-shadow: 2px 2px 0px #8b4513;
    margin-top: 0.3rem;
    background: rgba(0, 0, 0, 0.8);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    border: 1px solid #8b4513;
    white-space: nowrap;
    font-size: 0.75rem;
    letter-spacing: 0.02em;
}

/* 主城城堡的名称稍微大一些 */
.level-icon[data-level="6"] .level-name {
    font-size: 0.75rem;
    padding: 0.2rem 0.4rem;
}

.level-icon:hover .level-name {
    background: rgba(139, 69, 19, 0.8);
    color: #fff;
}

/* 返回按钮 */
.back-button {
    position: absolute;
    top: 20px;
    left: 20px;
    background: linear-gradient(145deg, #8b4513, #654321);
    border: 2px solid #a0522d;
    color: #f4e4bc;
    font-size: 1rem;
    font-weight: bold;
    padding: 0.5rem 1rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-shadow: 1px 1px 0px #654321;
    font-family: 'Courier New', monospace;
}

.back-button:hover {
    background: linear-gradient(145deg, #a0522d, #8b4513);
    transform: translateY(-2px);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

/* 弹窗样式 */
.popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 1000;
}

.popup-overlay.active {
    display: flex;
}

.popup-content {
    background: linear-gradient(145deg, #8b4513, #654321);
    border: 3px solid #a0522d;
    border-radius: 15px;
    padding: 0;
    max-width: 500px;
    width: 90%;
    box-shadow: 
        0 0 30px rgba(0, 0, 0, 0.7),
        inset 0 0 20px rgba(255, 255, 255, 0.1);
    animation: popupSlideIn 0.3s ease-out;
}

@keyframes popupSlideIn {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(-50px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.popup-header {
    background: linear-gradient(145deg, #a0522d, #8b4513);
    padding: 1rem;
    border-radius: 12px 12px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #654321;
}

.popup-header h2 {
    color: #f4e4bc;
    font-size: 1.5rem;
    text-shadow: 2px 2px 0px #654321;
    margin: 0;
}

.close-btn {
    background: none;
    border: none;
    color: #f4e4bc;
    font-size: 2rem;
    cursor: pointer;
    padding: 0;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.close-btn:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.1);
}

.popup-body {
    padding: 1.5rem;
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.level-preview {
    flex-shrink: 0;
}

.level-preview img {
    width: 120px;
    height: 120px;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    border: 2px solid #a0522d;
    border-radius: 8px;
    background: rgba(0, 0, 0, 0.3);
}

.level-info {
    flex: 1;
    color: #f4e4bc;
}

.level-info h3 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
    text-shadow: 1px 1px 0px #654321;
}

.level-info p {
    margin-bottom: 1rem;
    line-height: 1.4;
    text-shadow: 1px 1px 0px #654321;
}

.level-stats {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.stat-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.3rem 0.5rem;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 5px;
    border: 1px solid #654321;
}

.stat-label {
    font-weight: bold;
}

.stat-value {
    color: #ffd700;
    font-weight: bold;
}

/* 敌人信息样式 */
.enemies-info {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
}

.enemies-list {
    color: #ffd700;
    font-weight: bold;
    white-space: pre-line;
    line-height: 1.4;
}

.popup-footer {
    padding: 1rem;
    border-top: 2px solid #654321;
    text-align: center;
    background: linear-gradient(145deg, #654321, #8b4513);
    border-radius: 0 0 12px 12px;
}

.confirm-button {
    background: linear-gradient(145deg, #228b22, #006400);
    border: 2px solid #32cd32;
    color: #f4e4bc;
    font-size: 1.1rem;
    font-weight: bold;
    padding: 0.8rem 2rem;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-shadow: 1px 1px 0px #006400;
    font-family: 'Courier New', monospace;
}

.confirm-button:hover {
    background: linear-gradient(145deg, #32cd32, #228b22);
    transform: translateY(-2px);
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
}

.confirm-button:active {
    transform: translateY(0);
}

/* 关卡场景界面样式 */
#level-scene {
    background: linear-gradient(135deg, #2c1810 0%, #1a0f0a 100%);
}

.level-scene-container {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.level-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
}

.level-bg-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

/* 天空背景层 */
.sky-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 200%; /* 双倍宽度用于无缝循环 */
    height: 100%;
    z-index: 0; /* 最低层级 */
    overflow: hidden;
    display: none; /* 默认隐藏 */
}

.sky-bg-image {
    position: absolute;
    top: 0;
    width: 50%; /* 实际图片宽度为容器的一半 */
    height: 100%;
    object-fit: cover;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

.sky-bg-1 {
    left: 0;
    animation: skyScroll 30s linear infinite; /* 30秒循环滚动 */
}

.sky-bg-2 {
    left: 50%;
    animation: skyScroll 30s linear infinite; /* 30秒循环滚动 */
}

/* 天空背景滚动动画 */
@keyframes skyScroll {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-100%);
    }
}

/* 地面线条 */
.ground-line {
    position: absolute;
    left: 0;
    width: 100%;
    height: 8px; /* 增加线条粗细，更容易看到 */
    background: #ffffff; /* 纯白色，不要渐变 */
    z-index: 30;
    top: 70%;
    transform: translateY(-50%);
    box-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.8),
        inset 0 1px 2px rgba(255, 255, 255, 0.5);
    display: none; /* 隐藏地面线条 */
}

/* 血条基础样式 */
.health-bar {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    pointer-events: none;
}

.health-bar-bg {
    width: 200px; /* 调整血条长度：数值越大越长，数值越小越短 */
    height: 12px; /* 调整血条高度：数值越大越高，数值越小越矮 */
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid #8b4513;
    border-radius: 6px;
    overflow: hidden;
    box-shadow: 
        inset 0 1px 2px rgba(0, 0, 0, 0.3),
        0 0 8px rgba(139, 69, 19, 0.3);
}

.health-bar-fill {
    height: 100%;
    width: 100%;
    transition: width 0.3s ease;
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.health-bar-text {
    color: #f4e4bc;
    font-size: 1.2rem; /* 调整字体大小：数值越大字体越大，数值越小字体越小 */
    font-weight: bold;
    text-shadow: 2px 2px 0px #8b4513;
    font-family: 'Courier New', monospace;
    letter-spacing: 0.05em;
    background: rgba(0, 0, 0, 0.8);
    padding: 4px 10px; /* 调整内边距：数值越大内边距越大，数值越小内边距越小 */
    border-radius: 6px; /* 调整圆角：数值越大圆角越大，数值越小圆角越小 */
    border: 2px solid #8b4513; /* 调整边框粗细：数值越大边框越粗，数值越小边框越细 */
    position: absolute;
    z-index: 1;
    white-space: nowrap;
}

/* 玩家血条样式 */
.player-health-bar {
    position: fixed; /* 改为固定定位 */
    top: 225px; /* 屏幕顶部固定位置 */
    left: -300px; /* 屏幕左侧固定位置 */
    transform: none; /* 移除居中变换 */
    z-index: 1000; /* 确保在其他元素之上 */
}

/* 玩家血条文字样式 - 上下收窄 */
.player-health-bar .health-bar-text {
    padding: 2px 10px; /* 调整内边距：上下2px（收窄），左右10px（保持） */
}

.player-health-fill {
    background: linear-gradient(90deg, #ffd700 0%, #32cd32 50%, #228b22 100%);
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 6px rgba(50, 205, 50, 0.5);
}

.player-health-fill.warning {
    background: linear-gradient(90deg, #ffd700 0%, #ff8c00 50%, #ff4500 100%);
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 6px rgba(255, 215, 0, 0.5);
}

.player-health-fill.danger {
    background: linear-gradient(90deg, #ff4500 0%, #dc143c 50%, #8b0000 100%);
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 6px rgba(255, 69, 0, 0.5);
    animation: healthDangerPulse 0.5s ease-in-out infinite alternate;
}

/* 敌人血条样式（屏幕居中上方） */
.enemy-health-bar {
    position: absolute;
    top: 30px; /* 调整敌人血条上下位置：数值越大越靠下，数值越小越靠上 */
    left: 50%;
    transform: translateX(-50%);
    z-index: 25;
}

.enemy-health-bar .health-bar-bg {
    width: 120px; /* 敌人血条更长一些 */
    height: 14px;
}

/* 倒计时线样式 */
.countdown-line {
    position: absolute;
    top: 100%; /* 血条下方 */
    left: 0;
    width: 100%;
    height: 8px;
    background: rgba(255, 0, 0, 0.3);
    border-radius: 4px;
    margin-top: 5px;
    overflow: hidden;
}

.countdown-progress {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, #ff0000, #ff6666, #ff0000);
    border-radius: 4px;
    transform-origin: center;
    transition: transform 0.1s linear;
}

/* 倒计时动画 - 两端往中间收缩 */
.countdown-progress.shrinking {
    animation: countdownShrink linear forwards;
}

@keyframes countdownShrink {
    0% {
        transform: scaleX(1);
    }
    100% {
        transform: scaleX(0);
    }
}

/* 受击特效和抖动 */
.health-bar.shake {
    animation: healthBarShake 0.5s ease-in-out;
}

.input-keys-container.shake {
    animation: keysShake 0.5s ease-in-out;
}

@keyframes healthBarShake {
    0%, 100% { transform: translateX(0); }
    10% { transform: translateX(-12px); }
    20% { transform: translateX(12px); }
    30% { transform: translateX(-12px); }
    40% { transform: translateX(12px); }
    50% { transform: translateX(-8px); }
    60% { transform: translateX(8px); }
    70% { transform: translateX(-8px); }
    80% { transform: translateX(8px); }
    90% { transform: translateX(-8px); }
}

@keyframes keysShake {
    0%, 100% { transform: translateX(-50%) scale(1); }
    10% { transform: translateX(-50%) scale(1.05) translateX(-10px); }
    20% { transform: translateX(-50%) scale(1.05) translateX(10px); }
    30% { transform: translateX(-50%) scale(1.05) translateX(-10px); }
    40% { transform: translateX(-50%) scale(1.05) translateX(10px); }
    50% { transform: translateX(-50%) scale(1.03) translateX(-6px); }
    60% { transform: translateX(-50%) scale(1.03) translateX(6px); }
    70% { transform: translateX(-50%) scale(1.03) translateX(-6px); }
    80% { transform: translateX(-50%) scale(1.03) translateX(6px); }
    90% { transform: translateX(-50%) scale(1.03) translateX(-6px); }
}

.enemy-health-fill {
    background: linear-gradient(90deg, #e74c3c 0%, #c0392b 50%, #8b0000 100%);
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 6px rgba(231, 76, 60, 0.5);
}

@keyframes healthDangerPulse {
    0% {
        box-shadow: 
            inset 0 1px 2px rgba(255, 255, 255, 0.3),
            0 0 6px rgba(255, 69, 0, 0.5);
    }
    100% {
        box-shadow: 
            inset 0 1px 2px rgba(255, 255, 255, 0.3),
            0 0 12px rgba(255, 69, 0, 0.8);
    }
}

/* 角色基础样式 */
.character {
    position: absolute;
    top: 70%; /* 与地面线条对齐 */
    transform: translateY(-100%); /* 改为底部对齐地面线 */
    z-index: 6;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    pointer-events: none;
}

.character-body {
    width: 60px; /* 调整角色宽度：数值越大越宽，数值越小越窄 */
    height: 80px; /* 调整角色高度：数值越大越高，数值越小越矮 */
    border-radius: 8px;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.3),
        inset 0 2px 4px rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}

.character-label {
    display: none; /* 隐藏角色标签 */
}

/* 玩家角色样式 */
.player-character {
    left: 31%; /* 调整玩家左右位置：数值越大越靠右，数值越小越靠左 */
}

.player-character .character-body {
    background-image: url('主角/tiny_main (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 180px; /* 玩家模型放大3倍：60px * 3 */
    height: 240px; /* 玩家模型放大3倍：80px * 3 */
    animation: playerIdle 2s infinite;
    border: none;
    box-shadow: none;
}

/* 玩家待机状态动画 */
@keyframes playerIdle {
    0% {
        background-image: url('主角/tiny_main (1).png');
    }
    25% {
        background-image: url('主角/tiny_main (2).png');
    }
    50% {
        background-image: url('主角/tiny_main (3).png');
    }
    75% {
        background-image: url('主角/tiny_main (4).png');
    }
    100% {
        background-image: url('主角/tiny_main (1).png');
    }
}

/* 玩家受击状态 */
.player-character.hit .character-body {
    animation: playerHit 0.6s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes playerHit {
    0% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(0) translateY(0);
    }
    10% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(-8px) translateY(-3px);
    }
    20% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(8px) translateY(3px);
    }
    30% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(-8px) translateY(-3px);
    }
    40% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(8px) translateY(3px);
    }
    50% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(-4px) translateY(-2px);
    }
    60% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(4px) translateY(2px);
    }
    70% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(-4px) translateY(-2px);
    }
    80% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(4px) translateY(2px);
    }
    90% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(-2px) translateY(-1px);
    }
    100% {
        background-image: url('主角/tiny_main (6).png');
        transform: translateX(0) translateY(0);
    }
}

/* 玩家攻击状态 */
.player-character.attacking .character-body {
    animation: playerAttack 0.8s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes playerAttack {
    0% {
        background-image: url('主角/tiny_main (5).png');
    }
    25% {
        background-image: url('主角/tiny_main (5).png');
    }
    50% {
        background-image: url('主角/tiny_main (5).png');
    }
    75% {
        background-image: url('主角/tiny_main (5).png');
    }
    100% {
        background-image: url('主角/tiny_main (5).png');
    }
}

/* 友军损失提示动画 */
@keyframes allyLossFloat {
    0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        opacity: 0.8;
        transform: translate(-50%, -60%) scale(1.1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -80%) scale(0.8);
    }
}

/* 友军消失动画 */
.ally-fading-out {
    animation: allyFadeOut 3s ease-out forwards !important;
}

@keyframes allyFadeOut {
    0% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.5;
        transform: scale(0.9);
    }
    100% {
        opacity: 0;
        transform: scale(0.7);
    }
}

/* 友一角色样式 */
.ally-character {
    left: 21%; /* 调整友一左右位置：数值越大越靠右，数值越小越靠左 */
    top: 76.5%; /* 调整友一上下位置：数值越大越靠下，数值越小越靠上 */
}

.ally-character .character-body {
    background-image: url('弓/archer_ (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 288px; /* 友一模型尺寸：60px * 2 * 2 * 1.2 */
    height: 384px; /* 友一模型尺寸：80px * 2 * 2 * 1.2 */
    animation: allyIdle 2s infinite;
    border: none;
    box-shadow: none;
    transform: scaleX(-1); /* 水平反转友一模型 */
}

/* 友一待机状态动画 */
@keyframes allyIdle {
    0% {
        background-image: url('弓/archer_ (1).png');
    }
    16.66% {
        background-image: url('弓/archer_ (2).png');
    }
    33.33% {
        background-image: url('弓/archer_ (3).png');
    }
    50% {
        background-image: url('弓/archer_ (3).png');
    }
    66.66% {
        background-image: url('弓/archer_ (2).png');
    }
    83.33% {
        background-image: url('弓/archer_ (1).png');
    }
    100% {
        background-image: url('弓/archer_ (1).png');
    }
}

/* 友一受击状态 */
.ally-character.hit .character-body {
    animation: allyHit 0.6s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes allyHit {
    0% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(0) translateY(0);
    }
    10% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(-8px) translateY(-4px);
    }
    20% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(8px) translateY(4px);
    }
    30% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(-12px) translateY(-6px);
    }
    40% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(12px) translateY(6px);
    }
    50% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(-16px) translateY(-8px);
    }
    60% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(12px) translateY(6px);
    }
    70% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(-8px) translateY(-4px);
    }
    80% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(6px) translateY(3px);
    }
    90% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(-3px) translateY(-2px);
    }
    100% {
        background-image: url('弓/archer_ (7).png');
        transform: scaleX(-1) scale(1.5) translateX(0) translateY(0);
    }
}

/* 友一攻击状态 */
.ally-character.attacking .character-body {
    animation: allyAttack 0.8s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes allyAttack {
    0% {
        background-image: url('弓/archer_ (4).png');
        transform: scaleX(-1);
    }
    25% {
        background-image: url('弓/archer_ (5).png');
        transform: scaleX(-1);
    }
    50% {
        background-image: url('弓/archer_ (6).png');
        transform: scaleX(-1);
    }
    75% {
        background-image: url('弓/archer_ (5).png');
        transform: scaleX(-1);
    }
    100% {
        background-image: url('弓/archer_ (4).png');
        transform: scaleX(-1);
    }
}

/* 友一计数器样式 */
.ally-counter {
    position: absolute;
    top: -50px; /* 与玩家血条同一水平线 */
    left: 50%; /* 水平居中 */
    transform: translateX(-50%); /* 精确居中 */
    background-image: url('others/tiny_counter.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 72px; /* 调整尺寸以适配图片 (40px * 1.8) */
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 29px; /* 字体大小放大1.8倍 (16px * 1.8) */
    font-weight: bold;
    color: #000000; /* 黑色文字 */
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5); /* 白色阴影增强对比度 */
}

/* 友二角色样式 */
.ally-two-character {
    left: 11%; /* 调整友二左右位置：数值越大越靠右，数值越小越靠左 */
    top: 78.5%; /* 调整友二上下位置：数值越大越靠下，数值越小越靠上 */
}

.ally-two-character .character-body {
    background-image: url('村/village_ (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 346px; /* 友二模型尺寸：60px * 2 * 2 * 1.2 * 1.2 */
    height: 461px; /* 友二模型尺寸：80px * 2 * 2 * 1.2 * 1.2 */
    animation: allyTwoIdle 2s infinite;
    border: none;
    box-shadow: none;
    /* 友二模型不进行水平反转 */
}

/* 友二待机状态动画 */
@keyframes allyTwoIdle {
    0% {
        background-image: url('村/village_ (2).png');
    }
    25% {
        background-image: url('村/village_ (3).png');
    }
    50% {
        background-image: url('村/village_ (3).png');
    }
    75% {
        background-image: url('村/village_ (2).png');
    }
    100% {
        background-image: url('村/village_ (2).png');
    }
}

/* 友二受击状态 */
.ally-two-character.hit .character-body {
    animation: allyTwoHit 0.6s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes allyTwoHit {
    0% {
        background-image: url('村/village_ (7).png');
        transform: translateX(0) translateY(0);
    }
    10% {
        background-image: url('村/village_ (7).png');
        transform: translateX(-8px) translateY(-4px);
    }
    20% {
        background-image: url('村/village_ (7).png');
        transform: translateX(8px) translateY(4px);
    }
    30% {
        background-image: url('村/village_ (7).png');
        transform: translateX(-12px) translateY(-6px);
    }
    40% {
        background-image: url('村/village_ (7).png');
        transform: translateX(12px) translateY(6px);
    }
    50% {
        background-image: url('村/village_ (7).png');
        transform: translateX(-16px) translateY(-8px);
    }
    60% {
        background-image: url('村/village_ (7).png');
        transform: translateX(12px) translateY(6px);
    }
    70% {
        background-image: url('村/village_ (7).png');
        transform: translateX(-8px) translateY(-4px);
    }
    80% {
        background-image: url('村/village_ (7).png');
        transform: translateX(6px) translateY(3px);
    }
    90% {
        background-image: url('村/village_ (7).png');
        transform: translateX(-3px) translateY(-2px);
    }
    100% {
        background-image: url('村/village_ (7).png');
        transform: translateX(0) translateY(0);
    }
}

/* 友二攻击状态 */
.ally-two-character.attacking .character-body {
    animation: allyTwoAttack 0.8s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes allyTwoAttack {
    0% {
        background-image: url('村/village_ (4).png');
    }
    25% {
        background-image: url('村/village_ (5).png');
    }
    50% {
        background-image: url('村/village_ (6).png');
    }
    75% {
        background-image: url('村/village_ (5).png');
    }
    100% {
        background-image: url('村/village_ (4).png');
    }
}

/* 友二计数器样式 */
.ally-two-counter {
    position: absolute;
    top: -5px; /* 与玩家血条同一水平线 */
    left: 50%; /* 水平居中 */
    transform: translateX(-50%); /* 精确居中 */
    background-image: url('others/tiny_counter.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 72px; /* 调整尺寸以适配图片 (40px * 1.8) */
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 29px; /* 字体大小放大1.8倍 (16px * 1.8) */
    font-weight: bold;
    color: #000000; /* 黑色文字 */
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5); /* 白色阴影增强对比度 */
}

/* 友三角色样式 */
.ally-three-character {
    left: -1.5%; /* 调整友三左右位置：数值越大越靠右，数值越小越靠左 */
    top: 81.5%; /* 调整友三上下位置：数值越大越靠下，数值越小越靠上 */
}

.ally-three-character .character-body {
    background-image: url('騎/knight_ (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 432px; /* 友三模型尺寸：60px * 2 * 2 * 1.2 * 1.5 */
    height: 576px; /* 友三模型尺寸：80px * 2 * 2 * 1.2 * 1.5 */
    animation: allyThreeIdle 2s infinite;
    border: none;
    box-shadow: none;
    /* 友三模型不进行水平反转 */
}

/* 友三待机状态动画 */
@keyframes allyThreeIdle {
    0% {
        background-image: url('騎/knight_ (1).png');
    }
    16.66% {
        background-image: url('騎/knight_ (2).png');
    }
    33.33% {
        background-image: url('騎/knight_ (3).png');
    }
    50% {
        background-image: url('騎/knight_ (3).png');
    }
    66.66% {
        background-image: url('騎/knight_ (2).png');
    }
    83.33% {
        background-image: url('騎/knight_ (1).png');
    }
    100% {
        background-image: url('騎/knight_ (1).png');
    }
}

/* 友三受击状态 */
.ally-three-character.hit .character-body {
    animation: allyThreeHit 0.6s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes allyThreeHit {
    0% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(0) translateY(0);
    }
    10% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(-8px) translateY(-4px);
    }
    20% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(8px) translateY(4px);
    }
    30% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(-12px) translateY(-6px);
    }
    40% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(12px) translateY(6px);
    }
    50% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(-16px) translateY(-8px);
    }
    60% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(12px) translateY(6px);
    }
    70% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(-8px) translateY(-4px);
    }
    80% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(6px) translateY(3px);
    }
    90% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(-3px) translateY(-2px);
    }
    100% {
        background-image: url('騎/knight_ (6).png');
        transform: translateX(0) translateY(0);
    }
}

/* 友三攻击状态 */
.ally-three-character.attacking .character-body {
    animation: allyThreeAttack 0.8s ease-in-out !important;
    animation-fill-mode: forwards;
}

@keyframes allyThreeAttack {
    0% {
        background-image: url('騎/knight_ (4).png');
    }
    50% {
        background-image: url('騎/knight_ (5).png');
    }
    100% {
        background-image: url('騎/knight_ (4).png');
    }
}

/* 友三计数器样式 */
.ally-three-counter {
    position: absolute;
    top: 62px; /* 与玩家血条同一水平线 */
    left: 50%; /* 水平居中 */
    transform: translateX(-50%); /* 精确居中 */
    background-image: url('others/tiny_counter.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 72px; /* 调整尺寸以适配图片 (40px * 1.8) */
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 29px; /* 字体大小放大1.8倍 (16px * 1.8) */
    font-weight: bold;
    color: #000000; /* 黑色文字 */
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5); /* 白色阴影增强对比度 */
}

/* 玩家角色标签已隐藏 */

/* 敌人角色样式 */
.enemy-character {
    right: 15%; /* 调整敌人左右位置：数值越大越靠左，数值越小越靠右 */
}

/* 敌人四（猫）角色样式 */
.enemy-character.enemy-four {
    right: 15%; /* 调整敌人四左右位置：数值越大越靠左，数值越小越靠右 */
    top: 72%; /* 调整敌人四上下位置：数值越大越靠下，数值越小越靠上 */
}

.enemy-character.enemy-four .character-body {
    background-image: url('boss/tiny_cat_1 (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 360px; /* 敌人四放大2倍：180px * 2 */
    height: 480px; /* 敌人四放大2倍：240px * 2 */
    animation: enemyFourIdle 1.5s infinite;
    border: none;
    box-shadow: none;
}

/* 敌人四待机状态动画 */
@keyframes enemyFourIdle {
    0% {
        background-image: url('boss/tiny_cat_1 (1).png');
    }
    33% {
        background-image: url('boss/tiny_cat_1 (2).png');
    }
    66% {
        background-image: url('boss/tiny_cat_1 (3).png');
    }
    100% {
        background-image: url('boss/tiny_cat_1 (1).png');
    }
}

/* 敌人四受击状态 */
.enemy-character.enemy-four.hit .character-body {
    animation: enemyFourHit 0.6s ease-in-out;
}

@keyframes enemyFourHit {
    0% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1) translateX(0) translateY(0);
    }
    10% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    20% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    30% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    40% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    50% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    60% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    70% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    80% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    90% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1.02) translateX(-2px) translateY(-1px);
    }
    100% {
        background-image: url('boss/tiny_cat_being_hit.png');
        transform: scale(1) translateX(0) translateY(0);
    }
}

/* 敌人四攻击状态 */
.enemy-character.enemy-four.attacking .character-body {
    animation: enemyFourAttack 1s ease-in-out;
}

@keyframes enemyFourAttack {
    0% {
        background-image: url('boss/tiny_cat_hit_1 (1).png');
        transform: scale(1);
    }
    25% {
        background-image: url('boss/tiny_cat_hit_1 (2).png');
        transform: scale(1.1);
    }
    50% {
        background-image: url('boss/tiny_cat_hit_1 (3).png');
        transform: scale(1.2);
    }
    75% {
        background-image: url('boss/tiny_cat_hit_1 (4).png');
        transform: scale(1.1);
    }
    100% {
        background-image: url('boss/tiny_cat_hit_1 (1).png');
        transform: scale(1);
    }
}

/* 敌人一（哥布林）角色样式 */
.enemy-character.enemy-one {
    right: 15%; /* 调整敌人一左右位置：数值越大越靠左，数值越小越靠右 */
    top: 76%; /* 调整敌人一上下位置：数值越大越靠下，数值越小越靠上 */
}

.enemy-character.enemy-one .character-body {
    background-image: url('哥/tiny_goblin_ (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 234px; /* 敌人一放大1.3倍：180px * 1.3 */
    height: 312px; /* 敌人一放大1.3倍：240px * 1.3 */
    animation: enemyOneIdle 1.5s infinite;
    border: none;
    box-shadow: none;
}

/* 敌人一待机状态动画 */
@keyframes enemyOneIdle {
    0% {
        background-image: url('哥/tiny_goblin_ (1).png');
    }
    33% {
        background-image: url('哥/tiny_goblin_ (2).png');
    }
    66% {
        background-image: url('哥/tiny_goblin_ (3).png');
    }
    100% {
        background-image: url('哥/tiny_goblin_ (1).png');
    }
}

/* 敌人一受击状态 */
.enemy-character.enemy-one.hit .character-body {
    animation: enemyOneHit 0.6s ease-in-out;
}

@keyframes enemyOneHit {
    0% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1) translateX(0) translateY(0);
    }
    10% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    20% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    30% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    40% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    50% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    60% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    70% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    80% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    90% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1.02) translateX(-2px) translateY(-1px);
    }
    100% {
        background-image: url('哥/tiny_goblin_ (7).png');
        transform: scale(1) translateX(0) translateY(0);
    }
}

/* 敌人一攻击状态 */
.enemy-character.enemy-one.attacking .character-body {
    animation: enemyOneAttack 1s ease-in-out;
}

@keyframes enemyOneAttack {
    0% {
        background-image: url('哥/tiny_goblin_ (4).png');
        transform: scale(1);
    }
    33% {
        background-image: url('哥/tiny_goblin_ (5).png');
        transform: scale(1.1);
    }
    66% {
        background-image: url('哥/tiny_goblin_ (6).png');
        transform: scale(1.2);
    }
    100% {
        background-image: url('哥/tiny_goblin_ (4).png');
        transform: scale(1);
    }
}

/* 敌人二（骷髅）角色样式 */
.enemy-character.enemy-two {
    right: 15%; /* 调整敌人二左右位置：数值越大越靠左，数值越小越靠右 */
    top: 76%; /* 调整敌人二上下位置：数值越大越靠下，数值越小越靠上 */
}

.enemy-character.enemy-two .character-body {
    background-image: url('骷/skull_ (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 306px; /* 敌人二放大1.7倍：180px * 1.7 */
    height: 408px; /* 敌人二放大1.7倍：240px * 1.7 */
    animation: enemyTwoIdle 1.5s infinite;
    border: none;
    box-shadow: none;
}

/* 敌人二待机状态动画 */
@keyframes enemyTwoIdle {
    0% {
        background-image: url('骷/skull_ (1).png');
    }
    50% {
        background-image: url('骷/skull_ (2).png');
    }
    100% {
        background-image: url('骷/skull_ (1).png');
    }
}

/* 敌人二受击状态 */
.enemy-character.enemy-two.hit .character-body {
    animation: enemyTwoHit 0.6s ease-in-out;
}

@keyframes enemyTwoHit {
    0% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1) translateX(0) translateY(0);
    }
    10% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    20% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    30% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    40% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    50% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    60% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    70% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    80% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    90% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1.02) translateX(-2px) translateY(-1px);
    }
    100% {
        background-image: url('骷/skull_ (5).png');
        transform: scale(1) translateX(0) translateY(0);
    }
}

/* 敌人二攻击状态 */
.enemy-character.enemy-two.attacking .character-body {
    animation: enemyTwoAttack 1s ease-in-out;
}

@keyframes enemyTwoAttack {
    0% {
        background-image: url('骷/skull_ (3).png');
        transform: scale(1);
    }
    50% {
        background-image: url('骷/skull_ (4).png');
        transform: scale(1.1);
    }
    100% {
        background-image: url('骷/skull_ (3).png');
        transform: scale(1);
    }
}

/* 敌人三（史莱姆）角色样式 */
.enemy-character.enemy-three {
    right: 15%; /* 调整敌人三左右位置：数值越大越靠左，数值越小越靠右 */
    top: 83%; /* 调整敌人三上下位置：数值越大越靠下，数值越小越靠上 */
}

.enemy-character.enemy-three .character-body {
    background-image: url('史/tiny_slime_ (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 360px; /* 敌人三放大2倍：180px * 2 */
    height: 480px; /* 敌人三放大2倍：240px * 2 */
    animation: enemyThreeIdle 1.5s infinite;
    border: none;
    box-shadow: none;
}

/* 敌人三待机状态动画 */
@keyframes enemyThreeIdle {
    0% {
        background-image: url('史/tiny_slime_ (1).png');
    }
    50% {
        background-image: url('史/tiny_slime_ (2).png');
    }
    100% {
        background-image: url('史/tiny_slime_ (1).png');
    }
}

/* 敌人三受击状态 */
.enemy-character.enemy-three.hit .character-body {
    animation: enemyThreeHit 0.6s ease-in-out;
}

@keyframes enemyThreeHit {
    0% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1) translateX(0) translateY(0);
    }
    10% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    20% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    30% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.1) translateX(-8px) translateY(-3px);
    }
    40% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.1) translateX(8px) translateY(3px);
    }
    50% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    60% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    70% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.05) translateX(-4px) translateY(-2px);
    }
    80% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.05) translateX(4px) translateY(2px);
    }
    90% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1.02) translateX(-2px) translateY(-1px);
    }
    100% {
        background-image: url('史/tiny_slime_ (5).png');
        transform: scale(1) translateX(0) translateY(0);
    }
}

/* 敌人三攻击状态 */
.enemy-character.enemy-three.attacking .character-body {
    animation: enemyThreeAttack 1s ease-in-out;
}

@keyframes enemyThreeAttack {
    0% {
        background-image: url('史/tiny_slime_ (3).png');
        transform: scale(1);
    }
    50% {
        background-image: url('史/tiny_slime_ (4).png');
        transform: scale(1.1);
    }
    100% {
        background-image: url('史/tiny_slime_ (3).png');
        transform: scale(1);
    }
}

.enemy-character .character-body {
    background: linear-gradient(145deg, #e74c3c, #c0392b);
    border: 2px solid #f56565;
    width: 180px; /* 敌人模型放大3倍：60px * 3 */
    height: 240px; /* 敌人模型放大3倍：80px * 3 */
}

/* 敌人角色标签已隐藏 */

/* 未知处（重生点）样式 */
.unknown-spawn {
    right: 5%; /* 位置在右侧，可调整间隔 - 更靠近边缘 */
    top: 70%; /* 与地面线条对齐 */
    transform: translateY(-100%); /* 底部对齐地面线 */
}

/* 
未知处位置调整说明：
1. 调整未知处与敌人之间的间隔：
   - 修改 .unknown-spawn 的 right 值
   - 当前值：5% (更靠近右边缘)
   - 建议范围：3% - 15%
   - 示例：right: 8% (更靠近敌人) 或 right: 3% (更靠近边缘)

2. 调整未知处上下位置：
   - 修改 .unknown-spawn 的 top 值
   - 当前值：70% (与地面线条对齐)
   - 建议范围：65% - 75%
   - 示例：top: 65% (更靠上) 或 top: 75% (更靠下)
*/

.unknown-spawn .character-body {
    background-image: url('未知/tiny_unknown_1.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 180px; /* 放大1.5倍 (120px * 1.5) */
    height: 240px; /* 放大1.5倍 (160px * 1.5) */
    opacity: 0.8; /* 稍微透明表示不在攻击范围 */
    animation: unknownFrameAnimation 1s infinite;
    border: none; /* 移除外轮廓 */
    box-shadow: none; /* 移除阴影效果 */
}

/* 未知处帧动画 */
@keyframes unknownFrameAnimation {
    0% {
        background-image: url('未知/tiny_unknown_1.png');
    }
    50% {
        background-image: url('未知/tiny_unknown_2.png');
    }
    100% {
        background-image: url('未知/tiny_unknown_1.png');
    }
}

.unknown-spawn .character-label {
    display: none; /* 隐藏标签 */
}

/* 重生次数计数器 */
.respawn-counter {
    position: absolute;
    top: -98px; /* 与玩家血条同一水平线 */
    left: 50%; /* 水平居中 */
    transform: translateX(-50%); /* 精确居中 */
    background-image: url('others/tiny_counter.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    width: 72px; /* 调整尺寸以适配图片 (40px * 1.8) */
    height: 72px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 29px; /* 字体大小放大1.8倍 (16px * 1.8) */
    font-weight: bold;
    color: #000000; /* 改为黑色 */
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5); /* 白色阴影增强对比度 */
}

/* -1特效样式 */
.minus-one-effect {
    position: absolute;
    color: #ff4444;
    font-size: 24px;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
    pointer-events: none;
    z-index: 1000;
    animation: minusOneFloat 2s ease-out forwards;
}

@keyframes minusOneFloat {
    0% {
        opacity: 1;
        transform: translateX(-50%) translateY(0px) scale(1);
    }
    50% {
        opacity: 0.8;
        transform: translateX(-50%) translateY(-20px) scale(1.2);
    }
    100% {
        opacity: 0;
        transform: translateX(-50%) translateY(-40px) scale(0.8);
    }
}

/* 敌人死亡动画已移除 - 直接消失 */

/* 角色动画效果 */
.character:hover .character-body {
    transform: scale(1.05);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.3);
}

/* 角色战斗状态 */
.character.attacking .character-body {
    animation: characterAttack 0.5s ease-in-out;
}

.character.defending .character-body {
    animation: characterDefend 0.3s ease-in-out;
}

.character.hit .character-body {
    animation: characterHit 0.6s ease-in-out;
}

/* 敌人受击时的特殊效果 */
.enemy-character.hit .character-body {
    animation: enemyHitShake 0.6s ease-in-out, enemyHitFlash 0.6s ease-in-out;
}

@keyframes characterAttack {
    0% { transform: scale(1); }
    50% { transform: scale(1.1) translateX(10px); }
    100% { transform: scale(1); }
}

@keyframes characterDefend {
    0% { transform: scale(1); }
    50% { transform: scale(0.95); }
    100% { transform: scale(1); }
}

@keyframes characterHit {
    0% { transform: scale(1) translateX(0) translateY(0); }
    10% { transform: scale(1.1) translateX(-12px) translateY(-6px); }
    20% { transform: scale(1.1) translateX(12px) translateY(6px); }
    30% { transform: scale(1.1) translateX(-12px) translateY(-6px); }
    40% { transform: scale(1.1) translateX(12px) translateY(6px); }
    50% { transform: scale(1.05) translateX(-8px) translateY(-4px); }
    60% { transform: scale(1.05) translateX(8px) translateY(4px); }
    70% { transform: scale(1.05) translateX(-8px) translateY(-4px); }
    80% { transform: scale(1.05) translateX(8px) translateY(4px); }
    90% { transform: scale(1.02) translateX(-4px) translateY(-2px); }
    100% { transform: scale(1) translateX(0) translateY(0); }
}

/* 敌人受击抖动动画 */
@keyframes enemyHitShake {
    0% { transform: scale(1) translateX(0) translateY(0); }
    10% { transform: scale(1.1) translateX(-8px) translateY(-3px); }
    20% { transform: scale(1.05) translateX(8px) translateY(3px); }
    30% { transform: scale(1.1) translateX(-6px) translateY(-2px); }
    40% { transform: scale(1.05) translateX(6px) translateY(2px); }
    50% { transform: scale(1.1) translateX(-4px) translateY(-1px); }
    60% { transform: scale(1.05) translateX(4px) translateY(1px); }
    70% { transform: scale(1.1) translateX(-2px) translateY(-1px); }
    80% { transform: scale(1.05) translateX(2px) translateY(1px); }
    90% { transform: scale(1.02) translateX(-1px) translateY(0); }
    100% { transform: scale(1) translateX(0) translateY(0); }
}

/* 敌人受击变白闪烁动画 */
@keyframes enemyHitFlash {
    0% { 
        background: linear-gradient(145deg, #e74c3c, #c0392b);
        filter: brightness(1) saturate(1);
    }
    15% { 
        background: linear-gradient(145deg, #ffffff, #f0f0f0);
        filter: brightness(1.5) saturate(0.5);
    }
    30% { 
        background: linear-gradient(145deg, #e74c3c, #c0392b);
        filter: brightness(1) saturate(1);
    }
    45% { 
        background: linear-gradient(145deg, #ffffff, #f0f0f0);
        filter: brightness(1.3) saturate(0.7);
    }
    60% { 
        background: linear-gradient(145deg, #e74c3c, #c0392b);
        filter: brightness(1) saturate(1);
    }
    75% { 
        background: linear-gradient(145deg, #ffffff, #f0f0f0);
        filter: brightness(1.2) saturate(0.8);
    }
    90% { 
        background: linear-gradient(145deg, #e74c3c, #c0392b);
        filter: brightness(1) saturate(1);
    }
    100% { 
        background: linear-gradient(145deg, #e74c3c, #c0392b);
        filter: brightness(1) saturate(1);
    }
}

/* 
=== 敌人位置手动调整说明 ===

敌人一（哥布林）位置调整：
文件位置：styles.css 第856-859行
.enemy-character.enemy-one {
    right: 15%; 调整敌人一左右位置：数值越大越靠左，数值越小越靠右
    top: 70%; 调整敌人一上下位置：数值越大越靠下，数值越小越靠上
}

敌人二（骷髅）位置调整：
文件位置：styles.css 第966-969行
.enemy-character.enemy-two {
    right: 15%; 调整敌人二左右位置：数值越大越靠左，数值越小越靠右
    top: 70%; 调整敌人二上下位置：数值越大越靠下，数值越小越靠上
}

敌人三（史莱姆）位置调整：
文件位置：styles.css 第1069-1072行
.enemy-character.enemy-three {
    right: 15%; 调整敌人三左右位置：数值越大越靠左，数值越小越靠右
    top: 70%; 调整敌人三上下位置：数值越大越靠下，数值越小越靠上
}

敌人四（猫）位置调整：
文件位置：styles.css 第742-745行
.enemy-character.enemy-four {
    right: 15%; 调整敌人四左右位置：数值越大越靠左，数值越小越靠右
    top: 70%; 调整敌人四上下位置：数值越大越靠下，数值越小越靠上
}

调整参数说明：
- right值：控制左右位置
  当前值：15%
  建议范围：5% - 30%
  示例：right: 10% (更靠右) 或 right: 20% (更靠左)

- top值：控制上下位置
  当前值：70% (与地面线条对齐)
  建议范围：60% - 80%
  示例：top: 65% (更靠上) 或 top: 75% (更靠下)

其他角色位置调整：
- 玩家位置：styles.css 第696-700行 .character
- 未知处位置：styles.css 第1175-1179行 .unknown-spawn
*/

/* 胜利弹窗样式 */
#victory-popup {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}

.victory-content {
    background: linear-gradient(145deg, #ffd700, #ff8c00);
    border: 4px solid #ff6b35;
    border-radius: 20px;
    padding: 0;
    max-width: 500px;
    width: 90%;
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.5),
        0 0 50px rgba(255, 215, 0, 0.3);
    animation: victoryPopupAppear 0.5s ease-out;
}

@keyframes victoryPopupAppear {
    0% {
        transform: scale(0.5) translateY(-50px);
        opacity: 0;
    }
    100% {
        transform: scale(1) translateY(0);
        opacity: 1;
    }
}

.victory-header {
    background: linear-gradient(145deg, #ff6b35, #ff8c00);
    padding: 1.5rem;
    border-radius: 16px 16px 0 0;
    display: flex;
    justify-content: center;
    align-items: center;
    border-bottom: 3px solid #e55a2b;
}

#victory-title {
    color: #fff;
    font-size: 2rem;
    font-weight: bold;
    margin: 0;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.victory-body {
    padding: 2rem;
    text-align: center;
    background: linear-gradient(145deg, #fff8dc, #fffacd);
}

.victory-icon {
    font-size: 4rem;
    margin-bottom: 1rem;
    animation: victoryIconBounce 1s ease-in-out infinite alternate;
}

@keyframes victoryIconBounce {
    0% { transform: translateY(0px); }
    100% { transform: translateY(-10px); }
}

#victory-level-name {
    color: #8b4513;
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 0 1rem 0;
}

#victory-message {
    color: #654321;
    font-size: 1.1rem;
    margin: 0 0 1.5rem 0;
    line-height: 1.5;
    white-space: pre-line;
}

.victory-stats {
    display: flex;
    justify-content: center;
    margin: 1.5rem 0;
    padding: 1rem;
    background: linear-gradient(145deg, #f0f8ff, #e6f3ff);
    border-radius: 10px;
    border: 2px solid #87ceeb;
}

.stat-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.stat-label {
    color: #4682b4;
    font-weight: bold;
    font-size: 1rem;
}

.stat-value {
    color: #2e8b57;
    font-size: 1.5rem;
    font-weight: bold;
    background: linear-gradient(145deg, #90ee90, #32cd32);
    padding: 0.5rem 1rem;
    border-radius: 8px;
    border: 2px solid #228b22;
    min-width: 60px;
}

.victory-footer {
    padding: 1.5rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
    background: linear-gradient(145deg, #f5f5f5, #e8e8e8);
    border-radius: 0 0 16px 16px;
    border-top: 2px solid #d3d3d3;
}

.victory-button {
    background: linear-gradient(145deg, #32cd32, #228b22);
    border: 3px solid #006400;
    color: #fff;
    font-size: 1.1rem;
    font-weight: bold;
    padding: 0.8rem 1.5rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 120px;
}

.victory-button:hover {
    background: linear-gradient(145deg, #228b22, #32cd32);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.victory-button.back-to-levels {
    background: linear-gradient(145deg, #ff6b35, #ff4500);
    border: 3px solid #cc3700;
}

.victory-button.back-to-levels:hover {
    background: linear-gradient(145deg, #ff4500, #ff6b35);
}

/* 存档覆盖确认弹窗样式 */
#save-overwrite-popup {
    display: none;
}

.popup-content {
    background: linear-gradient(145deg, #f0f0f0, #e0e0e0);
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    max-width: 400px;
    width: 90%;
    text-align: center;
}

.popup-header {
    background: linear-gradient(145deg, #ff6b35, #ff8c00);
    padding: 1.5rem;
    border-radius: 16px 16px 0 0;
    border-bottom: 3px solid #e55a2b;
}

.popup-header h2 {
    margin: 0;
    color: white;
    font-size: 1.5rem;
    font-weight: bold;
}

.popup-body {
    padding: 2rem;
    color: #333;
}

.popup-body p {
    margin: 0 0 1rem 0;
    font-size: 1.1rem;
    line-height: 1.5;
}

.popup-footer {
    padding: 1.5rem;
    display: flex;
    gap: 1rem;
    justify-content: center;
}

.popup-button {
    padding: 0.8rem 2rem;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 120px;
}

.popup-button.confirm {
    background: linear-gradient(145deg, #ff4444, #cc0000);
    color: white;
}

.popup-button.confirm:hover {
    background: linear-gradient(145deg, #ff6666, #ff0000);
    transform: translateY(-2px);
}

.popup-button.cancel {
    background: linear-gradient(145deg, #666666, #444444);
    color: white;
}

.popup-button.cancel:hover {
    background: linear-gradient(145deg, #888888, #666666);
    transform: translateY(-2px);
}

/* 村庄堡垒队伍编辑弹窗样式 */
#village-fortress-popup {
    display: none; /* 默认隐藏 */
}

.village-fortress-content {
    background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
    border-radius: 15px;
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    animation: popupSlideIn 0.3s ease-out;
}

.village-fortress-header {
    background: linear-gradient(135deg, #654321 0%, #8B4513 100%);
    color: #FFF8DC;
    padding: 20px;
    border-radius: 15px 15px 0 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid #8B4513;
}

.village-fortress-header h2 {
    margin: 0;
    font-size: 1.5em;
    font-weight: bold;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.village-fortress-body {
    padding: 25px;
    background: #FFF8DC;
    border-radius: 0 0 15px 15px;
}

.team-editor {
    margin-bottom: 25px;
}

.team-member {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    margin-bottom: 15px;
    background: #F5F5DC;
    border-radius: 10px;
    border: 2px solid #D2B48C;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.member-info {
    display: flex;
    align-items: center;
    flex: 1;
}

.member-avatar {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    margin-right: 15px;
    border: 3px solid #8B4513;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}

.archer-avatar {
    background-image: url('弓/archer_ (1).png');
}

.villager-avatar {
    background-image: url('村/village_ (1).png');
}

.knight-avatar {
    background-image: url('騎/knight_ (1).png');
}

.member-details h3 {
    margin: 0 0 5px 0;
    color: #8B4513;
    font-size: 1.2em;
    font-weight: bold;
}

.member-details p {
    margin: 0;
    color: #666;
    font-size: 0.9em;
}

.member-controls {
    display: flex;
    align-items: center;
    gap: 10px;
}

.inventory-count {
    font-size: 0.8em;
    color: #888;
    margin-left: 10px;
}

.decrease-btn, .increase-btn {
    width: 35px;
    height: 35px;
    border: none;
    border-radius: 50%;
    background: #8B4513;
    color: white;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

.decrease-btn:hover, .increase-btn:hover {
    background: #A0522D;
    transform: scale(1.1);
}

.decrease-btn:active, .increase-btn:active {
    transform: scale(0.95);
}

.member-count {
    min-width: 40px;
    text-align: center;
    font-size: 1.2em;
    font-weight: bold;
    color: #8B4513;
    background: white;
    padding: 8px 12px;
    border-radius: 8px;
    border: 2px solid #D2B48C;
}

.team-summary {
    background: #F0E68C;
    padding: 20px;
    border-radius: 10px;
    border: 2px solid #DAA520;
    text-align: center;
}

.team-summary h3 {
    margin: 0 0 10px 0;
    color: #8B4513;
    font-size: 1.3em;
}

.team-summary p {
    margin: 0;
    color: #8B4513;
    font-size: 1.1em;
    font-weight: bold;
}

.village-fortress-footer {
    padding: 20px;
    text-align: center;
    background: linear-gradient(135deg, #654321 0%, #8B4513 100%);
    border-radius: 0 0 15px 15px;
}

.village-fortress-button {
    background: linear-gradient(135deg, #228B22 0%, #32CD32 100%);
    color: white;
    border: none;
    padding: 12px 30px;
    border-radius: 25px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.village-fortress-button:hover {
    background: linear-gradient(135deg, #32CD32 0%, #00FF00 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

.village-fortress-button:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

/* 友军获得通知动画 */
@keyframes allyGainedFloat {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
    }
    20% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1.1);
    }
    80% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.8);
    }
}

/* 统一底部UI元素 */
.ui-base-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: auto;
    pointer-events: none;
    z-index: 10;
}

.ui-base-img {
    width: 100%;
    height: auto;
    object-fit: contain;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
}

/* 倒计时进度条容器 - 手动调整配置 */
.timer-container {
    position: absolute;
    top: 65px; /* 调整上下位置：数值越大越靠下，数值越小越靠上 */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 20;
    pointer-events: none;
    opacity: 0; /* 默认隐藏，只在游戏开始时显示 */
    transition: opacity 0.3s ease;
}

.timer-container.active {
    opacity: 1;
}

.timer-progress-bar {
    width: 300px; /* 调整进度条长度：数值越大越长，数值越小越短 */
    height: 20px; /* 调整进度条高度：数值越大越高，数值越小越矮 */
    background: rgba(0, 0, 0, 0.6);
    border: 2px solid #8b4513;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 
        inset 0 2px 4px rgba(0, 0, 0, 0.3),
        0 0 10px rgba(139, 69, 19, 0.3);
}

.timer-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #32cd32 0%, #228b22 50%, #ffd700 100%);
    width: 100%;
    transition: width 0.1s linear;
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 8px rgba(50, 205, 50, 0.5);
}

.timer-progress-fill.warning {
    background: linear-gradient(90deg, #ffd700 0%, #ff8c00 50%, #ff4500 100%);
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 8px rgba(255, 215, 0, 0.5);
}

.timer-progress-fill.danger {
    background: linear-gradient(90deg, #ff4500 0%, #dc143c 50%, #8b0000 100%);
    box-shadow: 
        inset 0 1px 2px rgba(255, 255, 255, 0.3),
        0 0 8px rgba(255, 69, 0, 0.5);
    animation: timerDangerPulse 0.5s ease-in-out infinite alternate;
}

@keyframes timerDangerPulse {
    0% {
        box-shadow: 
            inset 0 1px 2px rgba(255, 255, 255, 0.3),
            0 0 8px rgba(255, 69, 0, 0.5);
    }
    100% {
        box-shadow: 
            inset 0 1px 2px rgba(255, 255, 255, 0.3),
            0 0 15px rgba(255, 69, 0, 0.8);
    }
}


/* 
倒计时进度条手动调整说明：
1. 上下位置调整：修改 .timer-container 的 top 值
   - 当前值：80px
   - 建议范围：40px - 120px
   - 示例：top: 60px (更靠上) 或 top: 100px (更靠下)

2. 进度条长度调整：修改 .timer-progress-bar 的 width 值
   - 当前值：300px
   - 建议范围：200px - 400px
   - 示例：width: 250px (更短) 或 width: 350px (更长)

3. 进度条高度调整：修改 .timer-progress-bar 的 height 值
   - 当前值：20px
   - 建议范围：15px - 30px
   - 示例：height: 15px (更矮) 或 height: 25px (更高)

4. 整体位置微调：可以调整 left 和 transform 值
   - 当前：left: 50%; transform: translateX(-50%); (居中)
   - 示例：left: 60%; transform: translateX(-50%); (偏右)
*/

/* 输入条按键容器 - 手动调整配置 */
.input-keys-container {
    position: absolute;
    bottom: 50px; /* 调整上下位置：数值越大越靠下，数值越小越靠上 */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 25px; /* 调整按键间距：数值越大间距越大，数值越小间距越小 */
    justify-content: center;
    align-items: center;
    z-index: 15;
    pointer-events: none;
}

/* 
手动调整说明：
1. 上下位置调整：修改 bottom 值
   - 当前值：30px
   - 建议范围：10px - 50px
   - 示例：bottom: 20px (更靠上) 或 bottom: 40px (更靠下)

2. 按键间距调整：修改 gap 值
   - 当前值：18px
   - 建议范围：10px - 30px
   - 示例：gap: 12px (更紧密) 或 gap: 24px (更分散)

3. 按键大小调整：修改 .input-key 的 width 和 height
   - 当前值：75px x 75px
   - 建议范围：60px - 100px
   - 示例：width: 60px; height: 60px; (更小) 或 width: 90px; height: 90px; (更大)
*/

/* 单个按键样式 */
.input-key {
    width: 75px;
    height: 75px;
    background-image: url('others/tiny_block.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    border: none;
    border-radius: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    pointer-events: auto;
    position: relative;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    box-shadow: 
        0 4px 8px rgba(0, 0, 0, 0.3);
}

/* 按键箭头图标 */
.input-key::before {
    content: '';
    width: 32px;
    height: 32px;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ffffff" stroke="%23000000" stroke-width="3"><path d="M12 2l8 8-8 8-2-2 6-6-6-6 2-2z"/></svg>');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.8)) contrast(1.2) brightness(1.1);
}

/* 不同方向的按键 */
.input-key[data-direction="up"]::before {
    transform: rotate(-90deg);
}

.input-key[data-direction="down"]::before {
    transform: rotate(90deg);
}

.input-key[data-direction="left"]::before {
    transform: rotate(180deg);
}

.input-key[data-direction="right"]::before {
    transform: rotate(0deg);
}

/* 按键悬停效果 */
.input-key:hover {
    transform: scale(1.05);
    filter: brightness(1.1) saturate(1.2);
    box-shadow: 
        0 6px 12px rgba(0, 0, 0, 0.4);
}

/* 按键按下效果 */
.input-key:active {
    transform: scale(0.95);
    filter: brightness(0.9);
    box-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.3);
}

/* 按键激活状态（当前需要按的按键） */
.input-key.active {
    animation: keyPulse 0.8s ease-in-out infinite alternate;
    filter: brightness(1.3) saturate(1.5) hue-rotate(20deg);
    box-shadow: 
        0 0 15px rgba(255, 215, 0, 0.5),
        0 4px 8px rgba(0, 0, 0, 0.3);
}

@keyframes keyPulse {
    0% {
        transform: scale(1);
        filter: brightness(1.3) saturate(1.5) hue-rotate(20deg);
        box-shadow: 
            0 0 15px rgba(255, 215, 0, 0.5),
            0 4px 8px rgba(0, 0, 0, 0.3);
    }
    100% {
        transform: scale(1.08);
        filter: brightness(1.5) saturate(1.8) hue-rotate(30deg);
        box-shadow: 
            0 0 20px rgba(255, 215, 0, 0.8),
            0 6px 12px rgba(0, 0, 0, 0.4);
    }
}

/* 按键完成状态 */
.input-key.completed {
    filter: brightness(0.6) saturate(0.5) grayscale(0.3);
    opacity: 0.7;
    transform: scale(0.9);
}

/* 按键错误状态 */
.input-key.error {
    animation: keyError 0.3s ease-in-out;
    filter: brightness(1.5) saturate(2) hue-rotate(-30deg);
    box-shadow: 
        0 0 15px rgba(255, 56, 56, 0.6),
        0 4px 8px rgba(0, 0, 0, 0.3);
}

@keyframes keyError {
    0%, 100% {
        transform: translateX(0) scale(1);
    }
    25% {
        transform: translateX(-3px) scale(1.02);
    }
    75% {
        transform: translateX(3px) scale(1.02);
    }
}

/* 投射物样式 - 使用帧动画 */
.projectile {
    position: fixed;
    width: 29px; /* 投射物放大1.2倍：24px * 1.2 */
    height: 14px; /* 投射物放大1.2倍：12px * 1.2 */
    background-image: url('others/fire/tiny_horizon_fire (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    z-index: 15;
    pointer-events: none;
    transform-origin: center;
    animation: projectileFrameAnimation 0.3s steps(7) infinite;
}

/* 投射物帧动画 */
@keyframes projectileFrameAnimation {
    0% { background-image: url('others/fire/tiny_horizon_fire (1).png'); }
    14.28% { background-image: url('others/fire/tiny_horizon_fire (2).png'); }
    28.56% { background-image: url('others/fire/tiny_horizon_fire (3).png'); }
    42.84% { background-image: url('others/fire/tiny_horizon_fire (4).png'); }
    57.12% { background-image: url('others/fire/tiny_horizon_fire (5).png'); }
    71.4% { background-image: url('others/fire/tiny_horizon_fire (6).png'); }
    85.68% { background-image: url('others/fire/tiny_horizon_fire (7).png'); }
    100% { background-image: url('others/fire/tiny_horizon_fire (1).png'); }
}

/* 投射物碎片样式 - 使用帧动画 */
.projectile-fragment {
    position: fixed;
    width: 14px; /* 投射物碎片放大1.2倍：12px * 1.2 */
    height: 14px; /* 投射物碎片放大1.2倍：12px * 1.2 */
    background-image: url('others/fire/tiny_vertical_fire (1).png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
    z-index: 15;
    pointer-events: none;
    opacity: 0.8;
    transition: opacity 0.1s ease;
    animation: fragmentFrameAnimation 0.4s steps(7) infinite;
}

/* 分裂物帧动画 */
@keyframes fragmentFrameAnimation {
    0% { background-image: url('others/fire/tiny_vertical_fire (1).png'); }
    14.28% { background-image: url('others/fire/tiny_vertical_fire (2).png'); }
    28.56% { background-image: url('others/fire/tiny_vertical_fire (3).png'); }
    42.84% { background-image: url('others/fire/tiny_vertical_fire (4).png'); }
    57.12% { background-image: url('others/fire/tiny_vertical_fire (5).png'); }
    71.4% { background-image: url('others/fire/tiny_vertical_fire (6).png'); }
    85.68% { background-image: url('others/fire/tiny_vertical_fire (7).png'); }
    100% { background-image: url('others/fire/tiny_vertical_fire (1).png'); }
}

@keyframes projectileGlow {
    0% {
        box-shadow: 
            0 0 10px rgba(255, 215, 0, 0.6),
            inset 0 2px 4px rgba(255, 255, 255, 0.3);
    }
    100% {
        box-shadow: 
            0 0 20px rgba(255, 215, 0, 0.9),
            inset 0 2px 4px rgba(255, 255, 255, 0.5);
    }
}

/* 投射物轨迹效果 */
.projectile::before {
    content: '';
    position: absolute;
    top: -5px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    background: #ffd700;
    border-radius: 50%;
    animation: projectileTrail 0.1s ease-out infinite;
}

@keyframes projectileTrail {
    0% {
        opacity: 1;
        transform: translateX(-50%) scale(1);
    }
    100% {
        opacity: 0;
        transform: translateX(-50%) scale(0.5);
    }
}

/* 投射物击中效果 */
.projectile-hit-effect {
    animation: hitEffectExplosion 0.5s ease-out forwards;
}

@keyframes hitEffectExplosion {
    0% {
        transform: scale(0.5);
        opacity: 1;
    }
    50% {
        transform: scale(1.5);
        opacity: 0.8;
    }
    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* 碰撞调试框样式 */
.collision-debug {
    position: fixed;
    border: 2px solid;
    background: rgba(255, 255, 255, 0.1);
    pointer-events: none;
    z-index: 1000;
    transition: all 0.1s ease;
}

.player-collision {
    border-color: #4a90e2;
    box-shadow: 0 0 10px rgba(74, 144, 226, 0.5);
}

.enemy-collision {
    border-color: #e74c3c;
    box-shadow: 0 0 10px rgba(231, 76, 60, 0.5);
}

.collision-debug.colliding {
    border-width: 3px;
    animation: collisionPulse 0.5s ease-in-out infinite alternate;
}

@keyframes collisionPulse {
    0% {
        box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
    }
    100% {
        box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
    }
}

/* 关卡UI信息 */
.level-ui {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 20;
    text-align: center;
    background: rgba(0, 0, 0, 0.8);
    padding: 2rem;
    border-radius: 15px;
    border: 3px solid #8b4513;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
}

.level-info h2 {
    color: #f4e4bc;
    font-size: 2rem;
    margin-bottom: 1rem;
    text-shadow: 2px 2px 0px #8b4513;
}

.level-info p {
    color: #f4e4bc;
    font-size: 1.1rem;
    margin-bottom: 2rem;
    line-height: 1.4;
    text-shadow: 1px 1px 0px #8b4513;
}

.level-controls {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.start-button {
    background: linear-gradient(145deg, #228b22, #006400);
    border: 2px solid #32cd32;
    color: #f4e4bc;
    font-size: 1.2rem;
    font-weight: bold;
    padding: 1rem 2rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-shadow: 1px 1px 0px #006400;
    font-family: 'Courier New', monospace;
}

.start-button:hover {
    background: linear-gradient(145deg, #32cd32, #228b22);
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.start-button:active {
    transform: translateY(-1px);
}

/* 响应式适配 - 1080p等比例缩放适配 */
@media (max-width: 1920px) {
    .game-title {
        font-size: 3rem;
    }
    
    .menu-button {
        font-size: 1.3rem;
        padding: 0.8rem 1.5rem;
    }
    
    .level-icon img {
        width: 60px;
        height: 60px;
    }
    
    /* 倒计时进度条响应式调整 */
    .timer-progress-bar {
        width: 800px;
        height: 18px;
    }
    
    /* 角色响应式调整 */
    .character-body {
        width: 50px;
        height: 70px;
    }
    
    /* 玩家角色响应式调整 - 放大3倍 */
    .player-character .character-body {
        width: 150px; /* 50px * 3 */
        height: 210px; /* 70px * 3 */
    }
    
    /* 友一角色响应式调整 - 放大4.8倍 */
    .ally-character .character-body {
        width: 240px; /* 50px * 2 * 2 * 1.2 */
        height: 336px; /* 70px * 2 * 2 * 1.2 */
    }
    
    /* 友二角色响应式调整 - 放大5.76倍 */
    .ally-two-character .character-body {
        width: 288px; /* 50px * 2 * 2 * 1.2 * 1.2 */
        height: 403px; /* 70px * 2 * 2 * 1.2 * 1.2 */
    }
    
    /* 友三角色响应式调整 - 放大7.2倍 */
    .ally-three-character .character-body {
        width: 360px; /* 50px * 2 * 2 * 1.2 * 1.5 */
        height: 504px; /* 70px * 2 * 2 * 1.2 * 1.5 */
    }
    
    /* 敌人角色响应式调整 - 放大3倍 */
    .enemy-character .character-body {
        width: 150px; /* 50px * 3 */
        height: 210px; /* 70px * 3 */
    }
    
    /* 未知处响应式调整 */
    .unknown-spawn .character-body {
        width: 150px; /* 放大1.5倍 (100px * 1.5) */
        height: 210px; /* 放大1.5倍 (140px * 1.5) */
        background-image: url('未知/tiny_unknown_1.png');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        animation: unknownFrameAnimation 1s infinite;
    }
    
    /* 角色标签已隐藏 */
    
    /* 血条响应式调整 */
    .health-bar-bg {
        width: 300px;
        height: 35px;
    }
    
    .enemy-health-bar .health-bar-bg {
        width: 1300px;
        height: 40px;
    }
    
    .health-bar-text {
        font-size: 1.0rem; /* 调整字体大小：数值越大字体越大，数值越小字体越小 */
        padding: 3px 8px; /* 调整内边距：数值越大内边距越大，数值越小内边距越小 */
    }
    
    /* 玩家血条文字响应式调整 - 上下收窄 */
    .player-health-bar .health-bar-text {
        padding: 1px 8px; /* 调整内边距：上下1px（收窄），左右8px（保持） */
    }
    
    /* 调整不同关卡的响应式大小 */
    .level-icon[data-level="1"] img {
        width: 90px;
        height: 90px;
    }
    
    .level-icon[data-level="2"] img {
        width: 116px;
        height: 116px;
    }
    
    .level-icon[data-level="3"] img {
        width: 98px;
        height: 98px;
    }
    
    .level-icon[data-level="4"] img {
        width: 221px;
        height: 143px;
    }
    
    .level-icon[data-level="5"] img {
        width: 126px;
        height: 74px;
    }
    
    .level-icon[data-level="6"] img {
        width: 136px;
        height: 136px;
    }
    
    .level-name {
        font-size: 0.7rem;
    }
}

@media (max-width: 1366px) {
    .game-title {
        font-size: 2.5rem;
    }
    
    .menu-button {
        font-size: 1.2rem;
        padding: 0.7rem 1.2rem;
    }
    
    .level-icon img {
        width: 60px;
        height: 60px;
    }
    
    /* 倒计时进度条响应式调整 */
    .timer-progress-bar {
        width: 220px;
        height: 16px;
    }
    
    /* 角色响应式调整 */
    .character-body {
        width: 45px;
        height: 65px;
    }
    
    /* 玩家角色响应式调整 - 放大3倍 */
    .player-character .character-body {
        width: 135px; /* 45px * 3 */
        height: 195px; /* 65px * 3 */
    }
    
    /* 友一角色响应式调整 - 放大4.8倍 */
    .ally-character .character-body {
        width: 216px; /* 45px * 2 * 2 * 1.2 */
        height: 312px; /* 65px * 2 * 2 * 1.2 */
    }
    
    /* 友二角色响应式调整 - 放大5.76倍 */
    .ally-two-character .character-body {
        width: 259px; /* 45px * 2 * 2 * 1.2 * 1.2 */
        height: 374px; /* 65px * 2 * 2 * 1.2 * 1.2 */
    }
    
    /* 友三角色响应式调整 - 放大7.2倍 */
    .ally-three-character .character-body {
        width: 324px; /* 45px * 2 * 2 * 1.2 * 1.5 */
        height: 468px; /* 65px * 2 * 2 * 1.2 * 1.5 */
    }
    
    /* 敌人角色响应式调整 - 放大3倍 */
    .enemy-character .character-body {
        width: 135px; /* 45px * 3 */
        height: 195px; /* 65px * 3 */
    }
    
    /* 未知处响应式调整 */
    .unknown-spawn .character-body {
        width: 135px; /* 放大1.5倍 (90px * 1.5) */
        height: 195px; /* 放大1.5倍 (130px * 1.5) */
        background-image: url('未知/tiny_unknown_1.png');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        animation: unknownFrameAnimation 1s infinite;
    }
    
    /* 角色标签已隐藏 */
    
    /* 血条响应式调整 */
    .health-bar-bg {
        width: 60px;
        height: 9px;
    }
    
    .enemy-health-bar .health-bar-bg {
        width: 90px;
        height: 11px;
    }
    
    .health-bar-text {
        font-size: 0.9rem; /* 调整字体大小：数值越大字体越大，数值越小字体越小 */
        padding: 3px 7px; /* 调整内边距：数值越大内边距越大，数值越小内边距越小 */
    }
    
    /* 玩家血条文字响应式调整 - 上下收窄 */
    .player-health-bar .health-bar-text {
        padding: 1px 7px; /* 调整内边距：上下1px（收窄），左右7px（保持） */
    }
    
    /* 调整不同关卡的响应式大小 */
    .level-icon[data-level="1"] img {
        width: 90px;
        height: 90px;
    }
    
    .level-icon[data-level="2"] img {
        width: 116px;
        height: 116px;
    }
    
    .level-icon[data-level="3"] img {
        width: 98px;
        height: 98px;
    }
    
    .level-icon[data-level="4"] img {
        width: 221px;
        height: 143px;
    }
    
    .level-icon[data-level="5"] img {
        width: 126px;
        height: 74px;
    }
    
    .level-icon[data-level="6"] img {
        width: 136px;
        height: 136px;
    }
    
    .level-name {
        font-size: 0.7rem;
    }
}

@media (max-width: 1024px) {
    .game-title {
        font-size: 2rem;
    }
    
    .menu-button {
        font-size: 1.1rem;
        padding: 0.6rem 1rem;
    }
    
    .level-icon img {
        width: 50px;
        height: 50px;
    }
    
    /* 倒计时进度条响应式调整 */
    .timer-progress-bar {
        width: 200px;
        height: 15px;
    }
    
    /* 角色响应式调整 */
    .character-body {
        width: 40px;
        height: 60px;
    }
    
    /* 玩家角色响应式调整 - 放大3倍 */
    .player-character .character-body {
        width: 120px; /* 40px * 3 */
        height: 180px; /* 60px * 3 */
    }
    
    /* 友一角色响应式调整 - 放大4.8倍 */
    .ally-character .character-body {
        width: 192px; /* 40px * 2 * 2 * 1.2 */
        height: 288px; /* 60px * 2 * 2 * 1.2 */
    }
    
    /* 友二角色响应式调整 - 放大5.76倍 */
    .ally-two-character .character-body {
        width: 230px; /* 40px * 2 * 2 * 1.2 * 1.2 */
        height: 346px; /* 60px * 2 * 2 * 1.2 * 1.2 */
    }
    
    /* 友三角色响应式调整 - 放大7.2倍 */
    .ally-three-character .character-body {
        width: 288px; /* 40px * 2 * 2 * 1.2 * 1.5 */
        height: 432px; /* 60px * 2 * 2 * 1.2 * 1.5 */
    }
    
    /* 敌人角色响应式调整 - 放大3倍 */
    .enemy-character .character-body {
        width: 120px; /* 40px * 3 */
        height: 180px; /* 60px * 3 */
    }
    
    /* 未知处响应式调整 */
    .unknown-spawn .character-body {
        width: 120px; /* 放大1.5倍 (80px * 1.5) */
        height: 180px; /* 放大1.5倍 (120px * 1.5) */
        background-image: url('未知/tiny_unknown_1.png');
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        animation: unknownFrameAnimation 1s infinite;
    }
    
    /* 角色标签已隐藏 */
    
    /* 血条响应式调整 */
    .health-bar-bg {
        width: 50px;
        height: 8px;
    }
    
    .enemy-health-bar .health-bar-bg {
        width: 80px;
        height: 10px;
    }
    
    .health-bar-text {
        font-size: 0.8rem; /* 调整字体大小：数值越大字体越大，数值越小字体越小 */
        padding: 2px 6px; /* 调整内边距：数值越大内边距越大，数值越小内边距越小 */
    }
    
    /* 玩家血条文字响应式调整 - 上下收窄 */
    .player-health-bar .health-bar-text {
        padding: 1px 6px; /* 调整内边距：上下1px（收窄），左右6px（保持） */
    }
    
    /* 调整不同关卡的响应式大小 */
    .level-icon[data-level="1"] img {
        width: 72px;
        height: 72px;
    }
    
    .level-icon[data-level="2"] img {
        width: 95px;
        height: 95px;
    }
    
    .level-icon[data-level="3"] img {
        width: 83px;
        height: 83px;
    }
    
    .level-icon[data-level="4"] img {
        width: 189px;
        height: 111px;
    }
    
    .level-icon[data-level="5"] img {
        width: 105px;
        height: 63px;
    }
    
    .level-icon[data-level="6"] img {
        width: 119px;
        height: 119px;
    }
    
    .level-name {
        font-size: 0.65rem;
    }
    
    .popup-content {
        max-width: 400px;
    }
    
    .popup-body {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
}

/* 暂停按钮样式 */
.pause-button {
    position: fixed;
    top: 20px;
    left: 20px;
    width: 50px;
    height: 50px;
    background: rgba(0, 0, 0, 0.7);
    border: 2px solid #fff;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1000;
    transition: all 0.3s ease;
    font-size: 20px;
}

.pause-button:hover {
    background: rgba(0, 0, 0, 0.9);
    transform: scale(1.1);
}

.pause-button:active {
    transform: scale(0.95);
}

/* 暂停菜单样式 */
.pause-menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 2000;
}

.pause-menu-overlay.active {
    display: flex;
}

.pause-menu-content {
    background: linear-gradient(135deg, #2c3e50, #34495e);
    border: 3px solid #3498db;
    border-radius: 15px;
    padding: 40px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    animation: pauseMenuSlideIn 0.3s ease-out;
}

@keyframes pauseMenuSlideIn {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(-50px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.pause-menu-content h2 {
    color: #ecf0f1;
    font-size: 2.5em;
    margin-bottom: 30px;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

.pause-menu-buttons {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.pause-menu-button {
    padding: 15px 30px;
    font-size: 1.2em;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    min-width: 200px;
}

.pause-menu-button.resume {
    background: linear-gradient(135deg, #27ae60, #2ecc71);
    color: white;
    box-shadow: 0 4px 15px rgba(46, 204, 113, 0.3);
}

.pause-menu-button.resume:hover {
    background: linear-gradient(135deg, #2ecc71, #27ae60);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(46, 204, 113, 0.4);
}

.pause-menu-button.back {
    background: linear-gradient(135deg, #e74c3c, #c0392b);
    color: white;
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
}

.pause-menu-button.back:hover {
    background: linear-gradient(135deg, #c0392b, #e74c3c);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
}

.pause-menu-button:active {
    transform: translateY(0);
}
